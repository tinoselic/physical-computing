<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="assets/dial_favicon.png" />
  <link rel="stylesheet" href="style.css" />
  <title>Physical Computing Tino Selic</title>
</head>

<body>
  <section class="header">
    <div class="course-name">
      <div>Physical Computing</div>
      <div style="justify-self: end">Autumn 2022</div>
    </div>
    <nav>
      <div class="menu">
        <ul>
          <li><a href="#headline1" class="type-content">Home</a></li>
          <li><a href="#headline2" class="type-content">About</a></li>
          <li><a href="#headline3" class="type-content">Code</a></li>
        </ul>
      </div>
    </nav>
    <div class="about">About</div>
    <div class="about-text">
      Hallo! My name is Tino Selic and I am studying New Media (MA) student at Aalto University.
      Feel free to check out my <a href="https://tinoselic.myportfolio.com/">Portfolio</a>.
      <br />
      <br />
      In this <a href="https://learn.newmedia.dog/courses/physical-computing/">course</a>
      I am creating an alarm clock by recycling an old rotary dial telephone.
    </div>
  </section>
  <section class="content">
    <div class="content-name">Course Documentation</div>
    <section class="post">
      <div class="post-title">04 Communication</div>
      <div class="text-container">
        Posted 21.11.22
        <br />
        <br />
        <img class="image-style" src="images/20221118_150626.jpg" alt="Arduino setup" />
        I chose to work with the rotary dial mechanism and the idle switch of Matti’s red example telephone, because it
        is relevant for my final project. The idle switch is triggered when the handset is lifted or placed back on the
        telephone – basically like a simple button. For this reason I chose Arduino pin 2 to read its signal and added a
        10k resistor to prevent a short circuit. The rotary-dial on the other hand was harder to figure out. Matti
        explained to me that the dial returns a number of pulse signals depending on the number dialled. He knew which
        wires were the correct ones to read the signal of his telephone’s dial (red and blue). To be sure we tested the
        signal with the multimeter. With the knowledge gained I connected the dial’s wires with the breadboard and I
        chose Arduino pin 9 to read its signal.
        <br />
        <br />
        <iframe width="640" height="360" src="https://www.youtube.com/embed/cZ2rHqBXO1s" title="YouTube video player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
        <br />
        <br />
        This video helped me a lot to understand the mechanism in detail and how to set up the
        code.
        <br />
        <br />
        <img class="image-style" src="images/20221121_182511.jpg" alt="Circuit mistake" />
        In this process I learned how to use the bounce library that helps to prevent signal noise. The main idea of the
        code is to swich between two states: idle and dial. Idle is the state when the handset is placed on the
        telephone. Dial is the state when the handset is lifted and the user can dial in a number. By placing the
        handset back on the telephone (or by simply pressing the switch) the user can confirm the last dialled number.
        This number will be printed out in the console. I then set up a code in processing that communicates with the
        Arduino and visualizes the dialled number as a bigger graphic.
        <br />
        <br />
        I uploaded the first version of my code onto the Arduino but unfortunately nothing happened. I couldn’t fin the
        mistakes by myself, so I asked help from my fellow student <a href="https://troublebydesign.com/">Aditya</a>.
        With his help I made changes of the order of things to happen in my Arduino code. Another try, another failure.
        Aditya then
        took a close look at my circuit and found that the idle switch was not properly connected. The red wire was
        supposed to be connected to the 5V power source coming from the Arduino, but instead I accidentally connected it
        to ground where I already had a connection – ergo: no current flow. After I fixed that, everything worked fine.
        <br />
        <br />
        <img class="image-style" src="images/Communication_Homework_processing_sketch.png" alt="Processing graphics" />
        <div class="code-title">Arduino Code</div>
        <div class="code-content">
          <pre>
          <code>
// For handling software debouncing of mechanical switch contacts
#include &lt;Bounce2.h&gt;

// Pins
int idlePin = 2;  // Handset
int dialPin = 9;  // Rotary-dial

// States
int state = 0;

// How many pulses have been detected for the dialled digit
int pulseCount = 0;

// Bounce objects
Bounce idleSwitch = Bounce();
Bounce dialSwitch = Bounce();

void setup() {
  // Open the serial port
  Serial.begin(9600);
  // Declare pin inputs and attach debounce ojects
  pinMode(idlePin, INPUT);
  idleSwitch.attach(idlePin);
  idleSwitch.interval(5);
  pinMode(dialPin, INPUT);
  dialSwitch.attach(dialPin);
  dialSwitch.interval(5);
}

void loop() {
  // Read the current state of all switches
  idleSwitch.update();
  dialSwitch.update();

  switch (state) {
    // Idle
    case 0:
      if (idleSwitch.rose()) {
        state = 1;
      }
      break;

    // Dial
    case 1:
      if (dialSwitch.rose()) {
        pulseCount++;
        // The digit 0 has 10 pulses
        if (pulseCount == 10) {
          pulseCount = 0;
        }
      }
      break;
  }

  // If the handset is placed on the telephone, the telephone becomes idle (no matter when)
  if (idleSwitch.fell()) {
    Serial.println(pulseCount);
    state = 0;
    pulseCount = 0;
  }
}
          </code>
        </pre>
        </div>
        <div class="code-title">Processing Code</div>
        <div class="code-content">
          <pre>
          <code>
import processing.serial.*;

Serial myPort;  // Create object from Serial class
String str;      // Data received from the serial port

void setup()
{
  size(500, 500);
  // Open whatever port is the one you're using.
  // Change the 0 in  Serial.list()[0] to the correct device
  printArray(Serial.list());
  String portName = Serial.list()[0];
  myPort = new Serial(this, portName, 9600);
}

void draw()
{
  if ( myPort.available() > 0) { // If data is available,
    str = myPort.readStringUntil('\n'); // read it and store it in str
    if (str != null) {
      println(str);
      myPort.clear();
      background(0);
      fill(255);
      textSize(400);
      textAlign(CENTER, CENTER);
      text(str, width/2, height);
    }
  }
}
        </code>
      </pre>
        </div>
      </div>
    </section>
    <section class="post">
      <div class="post-title">03 Making Things Move</div>
      <div class="text-container">
        Posted 13.11.22
        <br />
        <br />
        <img class="image-style"
          src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9c/Ericsson_Dialog_in_green.JPG/1280px-Ericsson_Dialog_in_green.JPG"
          alt="Rotary dial - Wikipedia" />
        I came up with the idea for my project, when Matti introduced the rotary dial mechanisms of old telephones and
        how they can be used as potential inputs. I want to turn an old rotary dial telephone into an alarm clock and
        this is how it is supposed to work: the rotary dial is used to set up the time of the alarm. When the alarm goes
        off, the telephone starts ringing and it only stops, when the phone is picked up.
        <br />
        <br />
        <img class="image-style" src="images/20221109_105720.jpg" alt="Wake-up light" />
        Like many other people, I find it difficult to get up early in the morning. Especially during autumn and winter
        here in Finland the days get really short and the mornings are dark. For this reason, I am using a light alarm
        clock (also called “wake-up light”) that makes it easier to wake up and get out of bed during dark times.
        Ideally, I manage to transform the telephone not only into an alarm clock but also into a light alarm clock.
        <br />
        <br />
        <img class="image-style" src="images/Wake-Up-Phone_Concept_Must_have.jpg" alt="Must have" />
        <font face="Jost SemiBold">Must have</font>
        <br />
        The telephone must have a display that shows the time of clock and alarm. It must also have buttons for
        navigating (“Select” to switch between options and “Enter” to confirm the selection). The rotary dial must be
        used to set up the time of the clock and the alarm, and the original ringing sound of the telephone must be the
        alarm sound. Furthermore, picking up the phone must dismiss the alarm.
        <br />
        <br />
        <img class="image-style" src="images/20221109_105612_1.jpg" alt="Should have" />
        <font face="Jost SemiBold">Should have</font>
        <br />
        To turn the telephone into a wake-up light the telephone should also have a connection to a light source. 30
        minutes before the alarm, the light should start to brighten continuously like a sunrise until it is at full
        brightness, when the alarm goes off. A LED strip should work well for this.
        <br />
        <br />
        <img class="image-style" src="images/Wake-Up-Phone_Concept_Could_have.jpg" alt="Could have" />
        <font face="Jost SemiBold">Could have</font>
        <br />
        The telephone could have options to turn the light on and off and maybe even to adjust the brightness of the
        light. These information could be shown on the display. Another extention could be to replace the build-in
        speaker and mikrophone of the phone with two bigger / louder
        speakers. I could then choose any audio I like to play as the alarm sound.
      </div>
    </section>
    <section class="post">
      <div class="post-title">02 Sensing the World</div>
      <div class="text-container">
        Posted 07.11.22
        <br />
        <br />
        <img class="image-style"
          src="https://images.squarespace-cdn.com/content/v1/5afa005b36099bcaa7a08af6/1562498902192-0PQGC5WNY1J2MXRH7OWH/MVIMG_20190419_000711.jpg?format=2500w"
          alt="FLUX" />
        “FLUX is an alt.arcade reaction game, where players compete against one another to hit 5 buttons in the right
        order as quickly as possible.”
        <br />
        <a href="https://www.wethrowswitches.com/flux">https://www.wethrowswitches.com/flux</a>
        <br />
        <br />
        This project caught my attention because it seems simple but fun and it looks cool. Judging by the pictures this
        game could very well be placed at festivals or in bars/nightclubs as the surface seems sturdy and can act as a
        table for glasses etc. FLUX uses buttons and lights – the first components we started to work with in the
        beginning of this course.
        <br />
        <br />
        <iframe width="640" height="360" src="https://www.youtube.com/embed/1Yqj76Q4jJ4" title="YouTube video player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
          allowfullscreen>
        </iframe>
        <br />
        <br />
        FLUX’s game design is based on the 80’s classic “Simon”, where the player has to memorize and repeat a pattern
        by hitting the correct buttons of the device. With every successful repetition, the game is getting harder.
        <br />
        <br />
        Both FLUX and Simon use buttons as inputs and lights as outputs. Wouldn’t it be interesting if this mechanic
        could be somehow reversed? Replacing buttons with photoresistors turns light into an input.
        <br />
        <br />
        <img class="image-style" src="images/02 Sensing the world assignment sketch.png" alt="02_sketch" />
        This could be realized with a monitor made of multiple photoresistors arranged in a grid. A separate screen
        would display a specific pattern or shape for a limited time. The player would then have to memorize the image
        and recreate it by using a flashlight as a controller to “draw” on the light sensor monitor. Just like in Simon,
        this game would get harder with every successful repetition as the images would get more and more complex.
      </div>
    </section>
    <section class="post">
      <div class="post-title">01 Introduction: Arduino Basics
      </div>
      <div class="text-container">
        Posted 25.10.22
        <br />
        <br />
        <img class="image-style" src="images/Arduino_Basics_1.jpg" alt="Arduino_Basics_1" />
        With the knowledge I remembered from class, high school physics class and my first (unsuccessful) studies in
        electrical engineering, I started to draw a first circuit diagram. I then collected the parts I needed and built
        the circuit according to my drawing. I chose to work with digital pins 2 and 4, because they didn’t have the ~
        symbol. I haven’t figured out what that symbol stands for, I’m guessing it’s alternating current (AC). Also, I
        didn’t know how to involve the connection to the Arduino in my circuit drawing at this point.
        <br />
        <br />
        I pressed the button, but nothing happened. I checked the board and it turned out that the LEDs were pointing
        the wrong direction – a problem I still run into often. I fixed the problem and both LEDs turned on, when I
        pressed the button. A first small success, but not really the expected outcome of the assignment. When I opened
        up the Arduino programming software and tried to access LEDs and the button with the Arduino pins, I realized
        that I was missing a lot of theoretical understanding. Fortunately, Matti provided a clear and comprehensive
        <a href="https://learn.newmedia.dog/tutorials/arduino-and-electronics/arduino/">tutorial on the course
          website</a>, that provided all the information I needed to complete the assignment.
        <br />
        <br />
        I learned how to set up the circuit properly, reading the signals from the LEDs and the button and storing
        signal changes as states. The final challenge for me was figuring out the correct syntax of my code. The key was
        understanding how to save the button state as pressed and released.
        <br />
        <br />
        <img class="image-style" src="images/Arduino_Basics_2.jpg" alt="Arduino_Basics_2" />
        <img class="image-style" src="images/Arduino_Basics_3.jpg" alt="Arduino_Basics_3" />
        <img class="image-style" src="images/Arduino_Basics_4.jpg" alt="Arduino_Basics_4" />
        <div class="code-title">Arduino Code</div>
        <pre>
          <code>
// A button that first turns on one LED, then another, and then turns both LEDs off again
int btnPin = 2;
int ledPin1 = 9;
int ledPin2 = 11;
int btnState = false;
int prevBtnState = false;
int counter = 0;
void setup() {
  // Open the serial port
  Serial.begin(9600);
  // set the button pin to be an input
  pinMode(btnPin, INPUT);
  // set the LED pin to be an output
  pinMode(ledPin1, OUTPUT);
  pinMode(ledPin2, OUTPUT);
}
void loop() {
  // read the button pin
  btnState = digitalRead(btnPin);
  // State 0
  if (btnState != prevBtnState && counter == 0) {
    // button pressed down
    if (btnState == HIGH) {
      Serial.println("Light 1 on, Light 2 off");
      digitalWrite(ledPin1, HIGH);
      digitalWrite(ledPin2, LOW);
    }
    // button released
    if (btnState == LOW) {
      counter++;
      Serial.print("Count: ");
      Serial.println(counter);
    }
    prevBtnState = btnState;
  }
  // State 1
  if (btnState != prevBtnState && counter == 1) {
    // button pressed down
    if (btnState == HIGH) {
      Serial.println("Light 1 on, Light 2 on");
      digitalWrite(ledPin1, HIGH);
      digitalWrite(ledPin2, HIGH);
    }
    // button released
    if (btnState == LOW) {
      counter++;
      Serial.print("Count: ");
      Serial.println(counter);
    }
    prevBtnState = btnState;
  }
  // State 2
  if (btnState != prevBtnState && counter == 2) {
    // button pressed down
    if (btnState == HIGH) {
      Serial.println("Light 1 off, Light 2 off");
      digitalWrite(ledPin1, LOW);
      digitalWrite(ledPin2, LOW);
    }
    // button released
    if (btnState == LOW) {
      counter = 0;
      Serial.print("Count: ");
      Serial.println(counter);
    }
    prevBtnState = btnState;
  }
}
          </code>
        </pre>
      </div>
    </section>
  </section>
  <footer class="footer">Thanks Calvin.</footer>
</body>

</html>